<!doctype html><meta charset="utf-8"><title>Diag</title>
<pre id="out">Loadingâ€¦</pre>
<script>
const out=document.getElementById("out");
Promise.all([
  fetch("state/last_run_report.json",{cache:"no-store"}).then(r=>r.ok?r.json():({error:`status ${r.status}`})),
  fetch("state/events.json",{cache:"no-store"}).then(r=>r.ok?r.json():({error:`status ${r.status}`}))
]).then(([a,b])=>{
  out.textContent=JSON.stringify({
    last_run_report:a,
    events_preview:Array.isArray(b)?b.slice(0,3):(b.events||[]).slice(0,3)
  },null,2)
}).catch(e=>{out.textContent=String(e)});
</script>
